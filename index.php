<?php
// Redirect to script to send email
if (!empty($_POST['email'])) {
    // Sending invitation by email
    header('Location: send_email.php?email='.$_POST['email']);
    exit;
}

$body_class = "";

// Display delivery status, (tips anti-refreshing) 
if (!empty($_GET['delivery']) and $_GET['delivery'] === "sent") {
    $body_class = "delivery_sent";
}

?>
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8"/>
    <title>MIW Party</title>
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
</head>
<body class="<?= $body_class ?>">

    <form action="#" method="post">
        <input class="email" type="email" name="email" placeholder="Ton email de star..." required/>
        <label class="submit">
            Inscris-toi !
            <svg><use xlink:href="#vip"></use></svg>
            <input class="submit" type="submit" value="Inscris-toi !" hidden/>
        </label>
    </form>

    <div class="sent_icon">
        <svg><use xlink:href="#sent"></use></svg>
    </div>

    <div hidden>
        <svg xmlns="http://www.w3.org/2000/svg">
            <symbol id="vip" viewBox="0 0 41.494 48.31"><path class="a" d="M139.506,87.124a.708.708,0,0,0-.926.38L136.8,91.745,135.028,87.5a.708.708,0,1,0-1.305.547l2.429,5.8a.708.708,0,0,0,1.305,0l2.429-5.8A.708.708,0,0,0,139.506,87.124Zm0,0" transform="translate(-121.055 -78.854)"/><path class="a" d="M246.618,94.287a.708.708,0,0,0,.708-.708V91.386h2.1a2.158,2.158,0,1,0,0-4.316h-2.813a.708.708,0,0,0-.708.708v5.8A.708.708,0,0,0,246.618,94.287Zm.708-5.8h2.1a.742.742,0,1,1,0,1.485h-2.1Zm0,0" transform="translate(-222.707 -78.855)"/><path class="a" d="M214.228,93.579v-5.8a.708.708,0,1,0-1.415,0v5.8a.708.708,0,1,0,1.415,0Zm0,0" transform="translate(-192.732 -78.855)"/><path class="a" d="M147.95,182.27l-.981,3.02a.16.16,0,0,1-.151.11h-3.175a1.575,1.575,0,0,0-.925,2.849l2.569,1.866a.159.159,0,0,1,.058.178l-.981,3.02a1.575,1.575,0,0,0,2.424,1.761l2.569-1.866a.159.159,0,0,1,.188,0l2.569,1.866a1.575,1.575,0,0,0,2.423-1.761l-.981-3.02a.159.159,0,0,1,.058-.178l2.569-1.866a1.575,1.575,0,0,0-.926-2.849h-3.175a.159.159,0,0,1-.151-.11l-.981-3.02A1.575,1.575,0,0,0,147.95,182.27Zm1.5.327a.146.146,0,0,1,.152.11l.981,3.019a1.571,1.571,0,0,0,1.5,1.088h3.175a.16.16,0,0,1,.094.289l-2.569,1.866a1.57,1.57,0,0,0-.572,1.761l.981,3.02a.159.159,0,0,1-.245.178l-2.569-1.866a1.57,1.57,0,0,0-1.851,0l-2.569,1.866a.16.16,0,0,1-.245-.178l.981-3.02a1.571,1.571,0,0,0-.572-1.761l-2.569-1.866a.16.16,0,0,1,.094-.289h3.175a1.571,1.571,0,0,0,1.5-1.088l.981-3.019A.145.145,0,0,1,149.448,182.6Zm0,0" transform="translate(-128.66 -164.087)"/><path class="a" d="M0,22.195V47.6a.707.707,0,0,0,.708.708h9.646a.708.708,0,1,0,0-1.415H2.962L20.747,34.506,38.532,46.895H13.656a.708.708,0,1,0,0,1.415H40.786a.708.708,0,0,0,.708-.708V22.195a.708.708,0,0,0-.3-.581l-4.922-3.429V13.752a.708.708,0,0,0-1.415,0V25.465l-1.415.986V6.811A.708.708,0,0,0,32.73,6.1a2.567,2.567,0,0,1-2.565-2.565.707.707,0,0,0-.708-.708H12.036a.707.707,0,0,0-.708.708A2.568,2.568,0,0,1,8.764,6.1a.707.707,0,0,0-.708.708v7.154a.708.708,0,1,0,1.415,0V7.455A3.992,3.992,0,0,0,12.68,4.246H28.813a3.991,3.991,0,0,0,3.209,3.209V27.437l-9.473,6.6-1.4-.974a.708.708,0,0,0-.809,0l-1.4.974-9.473-6.6V17.267a.708.708,0,0,0-1.415,0v9.184l-1.415-.986V2.329a.914.914,0,0,1,.913-.913H33.94a.915.915,0,0,1,.913.913v8.027a.708.708,0,0,0,1.415,0V2.329A2.331,2.331,0,0,0,33.94,0H7.554A2.331,2.331,0,0,0,5.225,2.329V18.186L.3,21.614a.707.707,0,0,0-.3.581ZM5.225,19.91v4.569l-3.28-2.284ZM17.706,34.9,1.415,46.247v-22.7ZM40.078,46.247,23.787,34.9,40.078,23.551ZM36.268,19.91l3.279,2.284-3.279,2.284Zm0,0" transform="translate(0)"/></symbol>
            <symbol id="sent" viewBox="0 0 239.325 194.271"><path class="a" d="M435.018,107.669l-34.712,28.244-13.858-16.229a3.391,3.391,0,1,0-5.158,4.4l16.009,18.75a3.392,3.392,0,0,0,4.719.428L439.3,112.933a3.391,3.391,0,0,0-4.281-5.261Zm0,0" transform="translate(-232.716 -63.937)"/><path class="a" d="M177.8-3.742a61.5,61.5,0,0,0-61.412,57.927H22.767A22.8,22.8,0,0,0,.193,74.045a3.381,3.381,0,0,0-.153,1.611c-.024.431-.039.865-.039,1.3v90.8a22.667,22.667,0,0,0,5.255,14.535,3.391,3.391,0,0,0,1.127,1.253,22.708,22.708,0,0,0,16.385,6.983H158.419a22.7,22.7,0,0,0,16.37-6.968,3.661,3.661,0,0,0,.508-.41,3.389,3.389,0,0,0,.628-.851,22.656,22.656,0,0,0,5.263-14.542V119.22A61.528,61.528,0,0,0,177.8-3.742ZM22.767,60.968h93.588a61.234,61.234,0,0,0,16.716,39.069,62.41,62.41,0,0,0,4.744,4.524L99.706,136.884a14.007,14.007,0,0,1-18.168.008L7.087,73.85A16.013,16.013,0,0,1,22.767,60.968Zm0,122.779a15.93,15.93,0,0,1-9.592-3.205L54.088,138.7a3.392,3.392,0,1,0-4.848-4.744L8.724,175.391a15.9,15.9,0,0,1-1.943-7.632V82.478l70.375,59.59a20.765,20.765,0,0,0,26.936-.012l39.235-33.274a60.754,60.754,0,0,0,31.079,10.44v48.537a15.863,15.863,0,0,1-1.957,7.658l-40.759-41.469a3.391,3.391,0,0,0-4.836,4.753l41.137,41.856a15.909,15.909,0,0,1-9.571,3.19ZM177.8,112.53A54.165,54.165,0,0,1,145.4,101.941a3.935,3.935,0,0,0-.452-.343A55.541,55.541,0,0,1,138,95.378a54.743,54.743,0,1,1,39.8,17.151Zm0,0" transform="translate(0 3.742)"/></symbol>
        </svg>
    </div>

</body>
</html>